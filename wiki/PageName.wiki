#Sample code on how to use the APIs

= Introduction =

This page contains the sample code that shows how to use the APIs.


= Details =

=== Converting BasicDBObject into JsonObject ===
{{{
    String  String simpleJsonObject =
            "{\"menu\": " +
                "{\n" +
            "  \"id\": \"file\",\n" +
            "  \"value\": \"File\",\n" +
                "}" +
            "}";

    // Mongo BasicDBObject constructed by parsing JSON string
    // The BasicDBObject can come from Mongo Java Driver also
    BasicDBObject basicDBObject =
            (BasicDBObject)JSON.parse(simpleJsonObject);

    // Now convert the BasicDBObject into JsonObejct
    JsonObject jsonObject = Mongo2gson.getAsJsonObject(basicDBObject);
}}}

=== Converting BasicDBList into JsonArray ===
{{{
    String nestedJsonObjectWithArray = "{\"menu\": {\n" +
            "  \"id\": \"file\",\n" +
            "  \"value\": \"File\",\n" +
            "  \"popup\": {\n" +
            "    \"menuitem\": [\n" +
            "      {\"value\": \"New\", \"onclick\": \"CreateNewDoc()\"},\n" +
            "      {\"value\": \"Open\", \"onclick\": \"OpenDoc()\"},\n" +
            "      {\"value\": \"Close\", \"onclick\": \"CloseDoc()\"}\n" +
            "    ]\n" +
            "  }\n" +
            "}}";

    // Mongo BasicDBObject constructed by parsing JSON string
    BasicDBObject basicDBObject =
            (BasicDBObject)JSON.parse(nestedJsonObjectWithArray);

    // Convert the object using getAsJsonObejct API
    // which will internally convert the BasicDBList into JsonArray
    JsonObject jsonObject = 
            Mongo2gson.getAsJsonObject(basicDBObject);

    // Retrieve the JsonArray object
    JsonArray menuitems =
            (JsonArray)jsonObject.getAsJsonObject("menu")
                  .get("popup").getAsJsonObject()
                  .get("menuitem").getAsJsonArray();

}}}